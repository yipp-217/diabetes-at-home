<body class="clinician_body">
    <header class="clinician_header">
        <h2 class="cilnician_nav">Good afternoon, {{user.nameScreen}}</h2>
        <a href="/" class="clinician_nav_btn"><h5 class="phone_clinician">Log Out</h5></a>
        <a href="/clinician/settings"><img class="icons icon_settings" src="/res/settings.svg"></a>
    </header>

    <section class="search_bar">

            <input type="text" placeholder="Name.." name="search">
            <button class="reaserch_btn" type="submit"><img src="/res/Icons_reaserch.svg"></button> 


        <a href="/clinician/patient-comments"class="comment_btn"><h5>Patient Comments</h5></a>
        <a href="/clinician/register-patient"class="register_btn"><h5>Go to Register</h5></a>
    </section>

    <main class="dashboard_flex">
        <article class="dash_left">
            <table class="dashboard_table">
                <tr class="title_box">
                    <th>Patient Name</th>
                    <th>Blood glucose (nmol/L)</th>
                    <th>Weight (kg)</th>
                    <th>Exercise (steps)</th>
                    <th>Doses of insulin taken</th>
                </tr>
                
                {{#each patients}}       
                    <tr class="dash_container" onclick="goToPatient('{{this._id}}')" style="cursor: pointer;">
                        <td>{{this.user.nameGiven}} {{this.user.nameFamily}}</td>
                        {{> clinician_dashboard_patient_data value=this.patientHealthEntries.valueBloodGlucoseLevel lowerThreshold=this.bloodGlucoseLowerThreshold upperThreshold=this.bloodGlucoseUpperThreshold requirement=this.requirementBloodGlucoseLevel}}
                        {{> clinician_dashboard_patient_data value=this.patientHealthEntries.valueWeight lowerThreshold=this.weightLowerThreshold upperThreshold=this.weighteUpperThreshold requirement=this.requirementWeight}}
                        {{> clinician_dashboard_patient_data value=this.patientHealthEntries.valueExercise lowerThreshold=this.exerciseLowerThreshold upperThreshold=this.exerciseUpperThreshold requirement=this.requirementExercise}}
                        {{> clinician_dashboard_patient_data value=this.patientHealthEntries.valueDosesOfInsulinTaken lowerThreshold=this.dosesOfInsulinLowerThreshold upperThreshold=this.dosesOfInsulinUpperThreshold requirement=this.requirementDosesOfInsulinTaken}}                        
                    </tr>
                {{/each}}
            </table> 
        </article>
    </main>
</body>

<script>
    function goToPatient(patient) {
        location.href = "/clinician/patient/" + patient 
    }
</script>
